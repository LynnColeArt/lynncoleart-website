<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ title }}{% if title != site.name %} | {{ site.name }}{% endif %}</title>
    <meta name="description" content="{{ description or excerpt or site.title + ' - ' + site.description }}">
    <meta name="author" content="{{ site.name }}">
    <meta name="keywords" content="{% if tags %}{{ tags | join(', ') }}, {% endif %}art, AI art, noise painting, digital art, Lynn Cole, dadaism">

    <!-- Open Graph -->
    <meta property="og:title" content="{{ title }}{% if title != site.name %} | {{ site.name }}{% endif %}">
    <meta property="og:description" content="{{ description or excerpt or site.title + ' - ' + site.description }}">
    <meta property="og:type" content="{% if page.url == '/' %}website{% elif '/posts/' in page.url %}article{% elif '/gallery/' in page.url %}article{% else %}website{% endif %}">
    <meta property="og:url" content="https://lynncole.art{{ page.url }}">
    <meta property="og:site_name" content="{{ site.name }}">
    <meta property="og:locale" content="en_US">
    {% if gallery and gallery.firstImage %}
    <meta property="og:image" content="{{ gallery.firstImage }}">
    <meta property="og:image:alt" content="{{ title }} - Gallery preview">
    {% elif firstImage %}
    <meta property="og:image" content="{{ firstImage }}">
    <meta property="og:image:alt" content="{{ title }} - Preview">
    {% else %}
    <meta property="og:image" content="https://lynncole.art/images/lynn-cole-og-image.jpg">
    <meta property="og:image:alt" content="Lynn Cole Art - High Priestess of Dada">
    {% endif %}

    <!-- Twitter Card -->
    <meta name="twitter:card" content="{% if gallery and gallery.firstImage %}summary_large_image{% else %}summary{% endif %}">
    <meta name="twitter:title" content="{{ title }}{% if title != site.name %} | {{ site.name }}{% endif %}">
    <meta name="twitter:description" content="{{ description or excerpt or site.title + ' - ' + site.description }}">
    {% if gallery and gallery.firstImage %}
    <meta name="twitter:image" content="{{ gallery.firstImage }}">
    {% elif firstImage %}
    <meta name="twitter:image" content="{{ firstImage }}">
    {% else %}
    <meta name="twitter:image" content="https://lynncole.art/images/lynn-cole-og-image.jpg">
    {% endif %}
    <meta name="twitter:site" content="@lynncoleart">
    <meta name="twitter:creator" content="@lynncoleart">

    <!-- Additional SEO -->
    <link rel="canonical" href="https://lynncole.art{{ page.url }}">
    <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1">
    
    <!-- RSS -->
    <link rel="alternate" type="application/rss+xml" title="{{ site.name }} RSS Feed" href="/feed.xml">
    
    <!-- Styles -->
    <link rel="stylesheet" href="/css/main.css">
    <link rel="stylesheet" href="/css/prism-tomorrow.css">
    
    <!-- Mermaid -->
    <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
    <script>mermaid.initialize({ theme: 'dark', themeVariables: { primaryColor: '#8B5CF6', primaryTextColor: '#F3F4F6', primaryBorderColor: '#A855F7', lineColor: '#EC4899', secondaryColor: '#1F2937', tertiaryColor: '#111827' }});</script>
    
    <!-- JSON-LD Structured Data -->
    <script type="application/ld+json">
    {% if page.url == '/' %}
    {
        "@context": "https://schema.org",
        "@type": "WebSite",
        "name": "{{ site.name }}",
        "description": "{{ site.description }}",
        "url": "https://lynncole.art",
        "author": {
            "@type": "Person",
            "name": "Lynn Cole",
            "description": "{{ site.title }} - Artist, AI Art Pioneer, Noise Painter",
            "url": "https://lynncole.art",
            "sameAs": [
                "https://github.com/LynnColeArt",
                "https://twitter.com/lynncoleart"
            ]
        }
    }
    {% elif '/posts/' in page.url %}
    {
        "@context": "https://schema.org",
        "@type": "BlogPosting",
        "headline": "{{ title }}",
        "description": "{{ description or excerpt }}",
        "author": {
            "@type": "Person",
            "name": "Lynn Cole"
        },
        "datePublished": "{{ date | htmlDateString }}",
        "dateModified": "{{ date | htmlDateString }}",
        "publisher": {
            "@type": "Person",
            "name": "Lynn Cole"
        },
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https://lynncole.art{{ page.url }}"
        },
        "keywords": "{{ tags | join(', ') if tags else '' }}"
    }
    {% elif '/gallery/' in page.url and gallery %}
    {
        "@context": "https://schema.org",
        "@type": "ImageGallery",
        "name": "{{ title }}",
        "description": "{{ description }}",
        "numberOfItems": {{ gallery.imageCount or 0 }},
        "creator": {
            "@type": "Person",
            "name": "Lynn Cole"
        },
        "datePublished": "{{ gallery.date | htmlDateString }}",
        "keywords": "{{ gallery.tags | join(', ') if gallery.tags else '' }}",
        {% if gallery.firstImage %}
        "image": {
            "@type": "ImageObject",
            "url": "{{ gallery.firstImage }}",
            "caption": "{{ title }} - Preview"
        },
        {% endif %}
        "url": "https://lynncole.art{{ page.url }}"
    }
    {% else %}
    {
        "@context": "https://schema.org",
        "@type": "WebPage",
        "name": "{{ title }}",
        "description": "{{ description or site.description }}",
        "url": "https://lynncole.art{{ page.url }}",
        "isPartOf": {
            "@type": "WebSite",
            "name": "{{ site.name }}",
            "url": "https://lynncole.art"
        }
    }
    {% endif %}
    </script>
</head>
<body>
    <div class="site-wrapper">
        <nav class="sidebar" aria-label="Main navigation">
            <div class="site-header">
                <h1><a href="/">{{ site.name }}</a></h1>
                <p class="tagline">{{ site.title }}</p>
                <p class="site-description">{{ site.description }}</p>
            </div>
            
            <ul class="nav-list">
                {% for item in navigation | sort(false, false, 'order') %}
                <li>
                    <a href="{{ item.url }}" 
                       {% if (page.url == item.url) or (item.url != "/" and page.url.startsWith(item.url)) %}aria-current="page"{% endif %}>
                        {{ item.title }}
                    </a>
                </li>
                {% endfor %}
            </ul>
            
            <div class="nav-tags">
                <h3>Explore by Tag</h3>
                <ul class="tag-cloud">
                    {% for tag in collections.tagList | limit(10) %}
                    <li><a href="/tags/{{ tag | slug }}/" class="tag">#{{ tag }}</a></li>
                    {% endfor %}
                </ul>
            </div>
        </nav>
        
        <main class="content">
            {{ content | safe }}
        </main>
    </div>
    
    <script src="/js/main.js"></script>
    <script src="/js/gallery-loader.js"></script>
</body>
</html>